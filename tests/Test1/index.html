<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DAT - Test Completo de Aptitudes (4 Módulos)</title>
  <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    /* === ESTILOS GLOBALES === */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      min-height: 100vh;
      background-image: url('./img/fondo-escencial.jpg'); 
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      padding: 24px;
      color: #1e293b;
    }
    .container {
      max-width: 1000px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.96);
      backdrop-filter: blur(12px);
      border-radius: 20px;
      box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
      padding: 40px;
      position: relative;
      overflow: hidden;
    }

    /* HEADER */
    .header {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid #e2e8f0;
    }
    .header h1 { color: #0f172a; font-size: 24px; font-weight: 700; }
    .timer-badge {
      background: #0b4a6e; color: white; padding: 8px 16px; border-radius: 12px;
      font-size: 20px; font-weight: 700; box-shadow: 0 4px 6px rgba(11, 74, 110, 0.2);
    }
    
    /* SECCIONES */
    .section { display: none; animation: fadeIn 0.4s ease-in-out; }
    .section.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* FORMULARIOS */
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #475569; }
    .form-input {
      width: 100%; padding: 12px; border: 2px solid #cbd5e1; border-radius: 10px;
      font-size: 16px; transition: 0.3s;
    }
    .form-input:focus { border-color: #0b4a6e; outline: none; box-shadow: 0 0 0 3px rgba(11, 74, 110, 0.1); }

    /* BOTONES */
    .btn {
      background: linear-gradient(135deg, #0b4a6e 0%, #020f27 100%);
      color: white; border: none; padding: 14px 28px; border-radius: 10px;
      font-size: 16px; font-weight: 600; cursor: pointer; width: 100%;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 15px -3px rgba(11, 74, 110, 0.3); }
    .btn-secondary { background: #64748b; margin-top: 10px; }

    /* INSTRUCCIONES */
    .instructions-box {
      background: #f1f5f9; padding: 25px; border-radius: 12px; border-left: 5px solid #0b4a6e;
      margin-bottom: 25px; line-height: 1.6; font-size: 16px; text-align: justify;
    }

    /* TEST GRID (RAPIDEZ) */
    .test-wrapper {
      max-height: 600px; overflow-y: auto; padding-right: 10px;
      scroll-behavior: smooth;
    }
    .test-row {
      display: grid; grid-template-columns: 50px 150px 1fr; gap: 15px; align-items: center;
      background: white; padding: 10px; border-bottom: 1px solid #e2e8f0;
    }
    .test-row:nth-child(even) { background: #f8fafc; }
    
    .q-id { font-weight: bold; color: #94a3b8; text-align: center; }
    
    .q-target {
      font-family: 'Courier New', monospace; font-size: 22px; font-weight: bold; color: #0b4a6e;
      text-align: center; text-decoration: underline; letter-spacing: 1px;
    }

    .q-options { display: flex; gap: 8px; flex-wrap: wrap; }
    
    .opt-btn {
      flex: 1; padding: 8px; border: 1px solid #cbd5e1; border-radius: 6px; background: white;
      font-family: 'Courier New', monospace; font-size: 16px; cursor: pointer;
      min-width: 50px; text-align: center; transition: 0.1s;
    }
    .opt-btn:hover { background: #e2e8f0; }
    .opt-btn.selected { background: #0b4a6e; color: white; border-color: #0b4a6e; }

    /* ESTADO INTERMEDIO */
    .intermission { text-align: center; padding: 40px; }
    .intermission h2 { color: #0b4a6e; margin-bottom: 15px; }

    /* PREGUNTAS VERBALES/ORTOGRAFÍA/NUMERICO */
    .question-item {
      border-bottom: 1px solid #e2e8f0;
      padding-bottom: 30px;
      margin-bottom: 30px;
    }
    .q-number {
      font-weight: bold;
      color: #0b4a6e;
      font-size: 1.1rem;
      margin-bottom: 10px;
      display: block;
    }
    .q-text {
      font-size: 1.2rem;
      font-weight: 500;
      margin-bottom: 20px;
      color: #334155;
    }

    .options-list {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    @media (min-width: 600px) {
      .options-list { grid-template-columns: 1fr 1fr; }
    }

    .opt-btn-verbal {
      background: white;
      border: 2px solid #e2e8f0;
      padding: 15px;
      border-radius: 10px;
      cursor: pointer;
      text-align: left;
      transition: all 0.2s;
      font-size: 1rem;
      display: flex;
      align-items: center;
    }
    .opt-btn-verbal:hover {
      border-color: #94a3b8;
      background: #f1f5f9;
    }
    .opt-btn-verbal.selected {
      border-color: #0b4a6e;
      background: #e0f2fe;
      color: #0b4a6e;
      font-weight: bold;
    }
    .opt-letter {
      font-weight: bold;
      margin-right: 10px;
      color: #0b4a6e;
    }

    /* ORTOGRAFÍA - GRID DE 2 COLUMNAS */
    .question-item-ortografia {
      border-bottom: 1px solid #e2e8f0;
      padding-bottom: 20px;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .options-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      width: 100%;
    }
    @media (max-width: 600px) {
      .options-grid { grid-template-columns: 1fr; }
    }

    .example-box {
      margin-top: 15px;
      padding: 15px;
      background: #fff;
      border: 1px solid #cbd5e1;
      border-radius: 8px;
    }
    .example-label {
      color: #0b4a6e;
      font-weight: bold;
      text-transform: uppercase;
      font-size: 0.9rem;
      margin-bottom: 5px;
      display: block;
    }
  </style>
</head>
<body>

<div class="container">
  
  <div class="header">
    <h1 id="pageTitle">Test DAT - Evaluación de Aptitudes</h1>
    <div id="timerDisplay" class="timer-badge" style="display:none">03:00</div>
  </div>

  <!-- ========== REGISTRO ========== -->
  <div id="loginSection" class="section active">
    <h2 style="margin-bottom: 20px; color: #0f172a;">Registro</h2>
    <div class="form-group">
      <label>Nombre</label>
      <input type="text" id="userName" class="form-input" placeholder="Ingrese su nombre">
    </div>
    <div class="form-group">
      <label>Apellido</label>
      <input type="text" id="userLast" class="form-input" placeholder="Ingrese su apellido">
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="email" id="userEmail" class="form-input" placeholder="Ingrese su correo">
    </div>
    <button class="btn" onclick="goToInstructions()">Continuar</button>
  </div>

  <!-- ========== TEST 1: RAPIDEZ - INSTRUCCIONES ========== -->
  <div id="instSection1" class="section">
    <h2>Test 1: Rapidez y Exactitud Perceptiva</h2>
    <div class="instructions-box">
      <p>En esta prueba se trata de ver lo rápida y correctamente que es capaz de comparar grupos de letras y números.</p>
      <p><strong>Tarea:</strong> En cada ejercicio verá un grupo <u>subrayado</u> a la izquierda. Su tarea es encontrar EXACTAMENTE el mismo grupo entre las opciones de la derecha y seleccionarlo.</p>
      <p><strong>Tiempo:</strong> Dispondrá de <strong>3 minutos</strong> para la Parte I y, tras una pausa, <strong>3 minutos</strong> para la Parte II.</p>
      <p>Trabaje lo más rápido posible sin cometer errores.</p>
    </div>
    <button class="btn" onclick="startTest1Part(1)">COMENZAR PARTE I</button>
  </div>

  <!-- ========== TEST 1: RAPIDEZ - PARTE I ========== -->
  <div id="testSection1" class="section">
    <h3 id="partTitle1" style="margin-bottom: 15px; color: #64748b;">Parte I</h3>
    <div id="testGrid1" class="test-wrapper"></div>
    <button class="btn" id="finishPartBtn1" style="margin-top: 20px;" onclick="finishTest1Part()">FINALIZAR PARTE</button>
  </div>

  <!-- ========== TEST 1: INTERMEDIO ========== -->
  <div id="intermissionSection1" class="section intermission">
    <h2>¡Parte I Completada!</h2>
    <p>Ha completado la Parte I del Test de Rapidez y Exactitud Perceptiva.</p>
    <p>Cuando esté listo, presione el botón para iniciar la Parte II (3 minutos).</p>
    <br>
    <button class="btn" onclick="startTest1Part(2)">COMENZAR PARTE II</button>
  </div>

  <!-- ========== TRANSICIÓN TEST 1 → TEST 2 ========== -->
  <div id="transitionSection1to2" class="section intermission">
    <h2>✓ Test 1 Completado</h2>
    <p>Ha finalizado el Test de Rapidez y Exactitud Perceptiva.</p>
    <p>A continuación comenzará el Test 2: Razonamiento Verbal.</p>
    <br>
    <button class="btn" onclick="showInstructions2()">CONTINUAR AL TEST 2</button>
  </div>

  <!-- ========== TEST 2: RAZONAMIENTO VERBAL - INSTRUCCIONES ========== -->
  <div id="instSection2" class="section">
    <h2>Test 2: Razonamiento Verbal</h2>
    <div class="instructions-box">
      <p>Esta prueba consta de frases o proposiciones a las que les faltan la primera y la última palabra que se han sustituido por puntos. Su tarea consiste en encontrar las palabras que faltan de modo que, cuando se halla completado, la relación entre la primera y la segunda parte de cada frase sea semejante y la frase resulte verdadera y con sentido.</p>
      <p>Para ello ha de elegir entre los cinco pares de palabras que se proponen como opciones de respuestas. La primera palabra del par debe ir al principio de la frase y la segunda al final.</p>
    </div>

    <div class="instructions-box">
      <span class="example-label">Ejemplo E 1</span>
      <p>... es a maullar como perro es a ...</p>
      <div class="example-box">
        <div>A. ladrar – cachorro</div>
        <div style="font-weight:bold; color:#0b4a6e;">B. gato – ladrar (Correcta)</div>
        <div>C. gato – morder</div>
        <div>D. foca – cazar</div>
        <div>E. arañar – hueso</div>
      </div>
      <p style="font-size: 0.9rem; margin-top:10px;">La respuesta correcta es la B, porque gato y maullar se relacionan de modo semejante a como lo hacen perro y ladrar.</p>
    </div>

    <button class="btn" onclick="startTest2()">COMENZAR TEST 2 (25 MIN)</button>
  </div>

  <!-- ========== TEST 2: RAZONAMIENTO VERBAL ========== -->
  <div id="testSection2" class="section">
    <div id="questionsContainer2" class="test-wrapper"></div>
    <button class="btn" style="margin-top: 20px;" onclick="finishTest2()">FINALIZAR TEST 2</button>
  </div>

  <!-- ========== TRANSICIÓN TEST 2 → TEST 3 ========== -->
  <div id="transitionSection2to3" class="section intermission">
    <h2>✓ Test 2 Completado</h2>
    <p>Ha finalizado el Test de Razonamiento Verbal.</p>
    <p>A continuación comenzará el Test 3: Ortografía.</p>
    <br>
    <button class="btn" onclick="showInstructions3()">CONTINUAR AL TEST 3</button>
  </div>

  <!-- ========== TEST 3: ORTOGRAFÍA - INSTRUCCIONES ========== -->
  <div id="instSection3" class="section">
    <h2>Test 3: Ortografía</h2>
    <div class="instructions-box">
      <p>En esta prueba se presentan grupos de cuatro palabras entre las cuales hay una que está <strong>mal escrita</strong>. Su tarea consiste en descubrir cuál es la palabra en la que intencionalmente se ha cometido una falta de ortografía.</p>
      <p>Una vez que haya decidido cuál es la palabra incorrecta, debe marcar la opción correspondiente.</p>
    </div>

    <div class="instructions-box">
      <span class="example-label">Ejemplo E 1</span>
      <p>En este ejemplo, la palabra <em>benébolo</em> no está escrita correctamente; debía haberse escrito <strong>benévolo</strong>.</p>
      <div class="example-box">
        <div>A. Halago</div>
        <div style="font-weight:bold; color:#0b4a6e;">B. Benébolo (Incorrecta)</div>
        <div>C. Gentío</div>
        <div>D. Apoyar</div>
      </div>
    </div>

    <button class="btn" onclick="startTest3()">COMENZAR TEST 3 (10 MIN)</button>
  </div>

  <!-- ========== TEST 3: ORTOGRAFÍA ========== -->
  <div id="testSection3" class="section">
    <div id="questionsContainer3" class="test-wrapper"></div>
    <button class="btn" style="margin-top: 20px;" onclick="finishTest3()">FINALIZAR TEST 3</button>
  </div>

  <!-- ========== TRANSICIÓN TEST 3 → TEST 4 ========== -->
  <div id="transitionSection3to4" class="section intermission">
    <h2>✓ Test 3 Completado</h2>
    <p>Ha finalizado el Test de Ortografía.</p>
    <p>A continuación comenzará el Test 4: Razonamiento Numérico.</p>
    <br>
    <button class="btn" onclick="showInstructions4()">CONTINUAR AL TEST 4</button>
  </div>

  <!-- ========== TEST 4: RAZONAMIENTO NUMÉRICO - INSTRUCCIONES ========== -->
  <div id="instSection4" class="section">
    <h2>Test 4: Razonamiento Numérico</h2>
    <div class="instructions-box">
      <p>Esta prueba intenta comprobar su capacidad para razonar con números. Lea cada ejercicio y observe las posibles respuestas que se ofrecen y decida cuál de ellas es la mejor.</p>
      <p><strong>IMPORTANTE:</strong> En algunos de los ejercicios, no aparece la respuesta correcta. En ese caso, debe marcar la opción <strong>E (Ninguna de ellas)</strong> que quiere decir que la respuesta correcta no es ninguna de las alternativas propuestas.</p>
      <p>Si necesita hacer cálculos, utilice papel aparte. No use calculadora.</p>
    </div>

    <div class="instructions-box">
      <span class="example-label">Ejemplo E 1</span>
      <p>¿Qué número continúa esta serie? 2 4 6 8 ?</p>
      <div class="example-box">
        <div>A. 9</div>
        <div style="font-weight:bold; color:#0b4a6e;">B. 10 (Correcta)</div>
        <div>C. 11</div>
        <div>D. 12</div>
        <div>E. Ninguna de ellas</div>
      </div>
    </div>

    <button class="btn" onclick="startTest4()">COMENZAR TEST 4 (30 MIN)</button>
  </div>

  <!-- ========== TEST 4: RAZONAMIENTO NUMÉRICO ========== -->
  <div id="testSection4" class="section">
    <div id="questionsContainer4" class="test-wrapper"></div>
    <button class="btn" style="margin-top: 20px;" onclick="finishTest4()">FINALIZAR TEST 4</button>
  </div>

  <!-- ========== FINAL ========== -->
  <div id="finalSection" class="section intermission">
    <h2 style="color: #059669;">¡Tests Completados!</h2>
    <div style="font-size: 60px; margin: 20px 0;">✅</div>
    <p>Ha completado todos los tests de la evaluación DAT.</p>
    <p>Sus respuestas han sido registradas correctamente.</p>
    <div id="loadingMsg" style="margin-top:20px; color:#0b4a6e; font-weight:bold;">Guardando datos...</div>
  </div>

</div>




</body>
</html>
